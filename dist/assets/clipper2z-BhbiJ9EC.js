var Mt=(()=>{var gr=import.meta.url;return function(oe={}){var yr,o=oe,$r,G,ue=new Promise((e,r)=>{$r=e,G=r}),br=Object.assign({},o),C="";function fe(e){return o.locateFile?o.locateFile(e,C):C+e}var Pr;typeof document<"u"&&document.currentScript&&(C=document.currentScript.src),gr&&(C=gr),C.startsWith("blob:")?C="":C=C.substr(0,C.replace(/[?#].*/,"").lastIndexOf("/")+1),Pr=e=>fetch(e,{credentials:"same-origin"}).then(r=>r.ok?r.arrayBuffer():Promise.reject(new Error(r.status+" : "+r.url))),o.print||console.log.bind(console);var M=o.printErr||console.error.bind(console);Object.assign(o,br),br=null,o.arguments&&o.arguments,o.thisProgram&&o.thisProgram;var q=o.wasmBinary,J,mr=!1,E,b,O,V,j,h,_r,wr,Tr,Cr;function Ar(){var e=J.buffer;o.HEAP8=E=new Int8Array(e),o.HEAP16=O=new Int16Array(e),o.HEAPU8=b=new Uint8Array(e),o.HEAPU16=V=new Uint16Array(e),o.HEAP32=j=new Int32Array(e),o.HEAPU32=h=new Uint32Array(e),o.HEAPF32=_r=new Float32Array(e),o.HEAPF64=Cr=new Float64Array(e),o.HEAP64=wr=new BigInt64Array(e),o.HEAPU64=Tr=new BigUint64Array(e)}var Fr=[],Er=[],kr=[];function le(){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)de(o.preRun.shift());sr(Fr)}function ce(){sr(Er)}function ve(){if(o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;)he(o.postRun.shift());sr(kr)}function de(e){Fr.unshift(e)}function pe(e){Er.unshift(e)}function he(e){kr.unshift(e)}var W=0,z=null;function ge(e){var r;W++,(r=o.monitorRunDependencies)==null||r.call(o,W)}function ye(e){var t;if(W--,(t=o.monitorRunDependencies)==null||t.call(o,W),W==0&&z){var r=z;z=null,r()}}function Rr(e){var t;(t=o.onAbort)==null||t.call(o,e),e="Aborted("+e+")",M(e),mr=!0,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw G(r),r}var $e="data:application/octet-stream;base64,",Dr=e=>e.startsWith($e);function be(){if(o.locateFile){var e="clipper2z.wasm";return Dr(e)?e:fe(e)}return new URL("/assets/clipper2z-bvMLVKp3.wasm",import.meta.url).href}var ar;function Wr(e){if(e==ar&&q)return new Uint8Array(q);throw"both async and sync fetching of the wasm failed"}function Pe(e){return q?Promise.resolve().then(()=>Wr(e)):Pr(e).then(r=>new Uint8Array(r),()=>Wr(e))}function Sr(e,r,t){return Pe(e).then(n=>WebAssembly.instantiate(n,r)).then(t,n=>{M(`failed to asynchronously prepare wasm: ${n}`),Rr(n)})}function me(e,r,t,n){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!Dr(r)&&typeof fetch=="function"?fetch(r,{credentials:"same-origin"}).then(i=>{var s=WebAssembly.instantiateStreaming(i,t);return s.then(n,function(u){return M(`wasm streaming compile failed: ${u}`),M("falling back to ArrayBuffer instantiation"),Sr(r,t,n)})}):Sr(r,t,n)}function _e(){return{a:Wt}}function we(){function e(n,i){return D=n.exports,J=D.t,Ar(),xr=D.w,pe(D.u),ye(),D}ge();function r(n){e(n.instance)}var t=_e();if(o.instantiateWasm)try{return o.instantiateWasm(t,e)}catch(n){M(`Module.instantiateWasm callback failed with error: ${n}`),G(n)}return ar??(ar=be()),me(q,ar,t,r).catch(G),{}}var sr=e=>{for(;e.length>0;)e.shift()(o)};o.noExitRuntime;class Te{constructor(r){this.excPtr=r,this.ptr=r-24}set_type(r){h[this.ptr+4>>2]=r}get_type(){return h[this.ptr+4>>2]}set_destructor(r){h[this.ptr+8>>2]=r}get_destructor(){return h[this.ptr+8>>2]}set_caught(r){r=r?1:0,E[this.ptr+12]=r}get_caught(){return E[this.ptr+12]!=0}set_rethrown(r){r=r?1:0,E[this.ptr+13]=r}get_rethrown(){return E[this.ptr+13]!=0}init(r,t){this.set_adjusted_ptr(0),this.set_type(r),this.set_destructor(t)}set_adjusted_ptr(r){h[this.ptr+16>>2]=r}get_adjusted_ptr(){return h[this.ptr+16>>2]}}var Ur=0,Ce=(e,r,t)=>{var n=new Te(e);throw n.init(r,t),Ur=e,Ur},Ae=()=>Rr(""),K=e=>{if(e===null)return"null";var r=typeof e;return r==="object"||r==="array"||r==="function"?e.toString():""+e},Fe=()=>{for(var e=new Array(256),r=0;r<256;++r)e[r]=String.fromCharCode(r);Or=e},Or,y=e=>{for(var r="",t=e;b[t];)r+=Or[b[t++]];return r},I={},S={},Q={},H,d=e=>{throw new H(e)},jr,X=e=>{throw new jr(e)},k=(e,r,t)=>{e.forEach(a=>Q[a]=r);function n(a){var f=t(a);f.length!==e.length&&X("Mismatched type converter count");for(var l=0;l<e.length;++l)_(e[l],f[l])}var i=new Array(r.length),s=[],u=0;r.forEach((a,f)=>{S.hasOwnProperty(a)?i[f]=S[a]:(s.push(a),I.hasOwnProperty(a)||(I[a]=[]),I[a].push(()=>{i[f]=S[a],++u,u===s.length&&n(i)}))}),s.length===0&&n(i)};function Ee(e,r,t={}){var n=r.name;if(e||d(`type "${n}" must have a positive integer typeid pointer`),S.hasOwnProperty(e)){if(t.ignoreDuplicateRegistrations)return;d(`Cannot register type '${n}' twice`)}if(S[e]=r,delete Q[e],I.hasOwnProperty(e)){var i=I[e];delete I[e],i.forEach(s=>s())}}function _(e,r,t={}){return Ee(e,r,t)}var Ir=(e,r,t)=>{switch(r){case 1:return t?n=>E[n]:n=>b[n];case 2:return t?n=>O[n>>1]:n=>V[n>>1];case 4:return t?n=>j[n>>2]:n=>h[n>>2];case 8:return t?n=>wr[n>>3]:n=>Tr[n>>3];default:throw new TypeError(`invalid integer width (${r}): ${e}`)}},ke=(e,r,t,n,i)=>{r=y(r);var s=r.indexOf("u")!=-1;_(e,{name:r,fromWireType:u=>u,toWireType:function(u,a){if(typeof a!="bigint"&&typeof a!="number")throw new TypeError(`Cannot convert "${K(a)}" to ${this.name}`);return typeof a=="number"&&(a=BigInt(a)),a},argPackAdvance:T,readValueFromPointer:Ir(r,t,!s),destructorFunction:null})},T=8,Re=(e,r,t,n)=>{r=y(r),_(e,{name:r,fromWireType:function(i){return!!i},toWireType:function(i,s){return s?t:n},argPackAdvance:T,readValueFromPointer:function(i){return this.fromWireType(b[i])},destructorFunction:null})},De=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),or=e=>{function r(t){return t.$$.ptrType.registeredClass.name}d(r(e)+" instance already deleted")},ur=!1,Hr=e=>{},We=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},Br=e=>{e.count.value-=1;var r=e.count.value===0;r&&We(e)},Mr=(e,r,t)=>{if(r===t)return e;if(t.baseClass===void 0)return null;var n=Mr(e,r,t.baseClass);return n===null?null:t.downcast(n)},Vr={},Se={},Ue=(e,r)=>{for(r===void 0&&d("ptr should not be undefined");e.baseClass;)r=e.upcast(r),e=e.baseClass;return r},Oe=(e,r)=>(r=Ue(e,r),Se[r]),Y=(e,r)=>{(!r.ptrType||!r.ptr)&&X("makeClassHandle requires ptr and ptrType");var t=!!r.smartPtrType,n=!!r.smartPtr;return t!==n&&X("Both smartPtrType and smartPtr must be specified"),r.count={value:1},L(Object.create(e,{$$:{value:r,writable:!0}}))};function je(e){var r=this.getPointee(e);if(!r)return this.destructor(e),null;var t=Oe(this.registeredClass,r);if(t!==void 0){if(t.$$.count.value===0)return t.$$.ptr=r,t.$$.smartPtr=e,t.clone();var n=t.clone();return this.destructor(e),n}function i(){return this.isSmartPointer?Y(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:r,smartPtrType:this,smartPtr:e}):Y(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var s=this.registeredClass.getActualType(r),u=Vr[s];if(!u)return i.call(this);var a;this.isConst?a=u.constPointerType:a=u.pointerType;var f=Mr(r,this.registeredClass,a.registeredClass);return f===null?i.call(this):this.isSmartPointer?Y(a.registeredClass.instancePrototype,{ptrType:a,ptr:f,smartPtrType:this,smartPtr:e}):Y(a.registeredClass.instancePrototype,{ptrType:a,ptr:f})}var L=e=>typeof FinalizationRegistry>"u"?(L=r=>r,e):(ur=new FinalizationRegistry(r=>{Br(r.$$)}),L=r=>{var t=r.$$,n=!!t.smartPtr;if(n){var i={$$:t};ur.register(r,i,r)}return r},Hr=r=>ur.unregister(r),L(e)),Ie=()=>{Object.assign(N.prototype,{isAliasOf(e){if(!(this instanceof N)||!(e instanceof N))return!1;var r=this.$$.ptrType.registeredClass,t=this.$$.ptr;e.$$=e.$$;for(var n=e.$$.ptrType.registeredClass,i=e.$$.ptr;r.baseClass;)t=r.upcast(t),r=r.baseClass;for(;n.baseClass;)i=n.upcast(i),n=n.baseClass;return r===n&&t===i},clone(){if(this.$$.ptr||or(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=L(Object.create(Object.getPrototypeOf(this),{$$:{value:De(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||or(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&d("Object already scheduled for deletion"),Hr(this),Br(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||or(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&d("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}})};function N(){}var x=(e,r)=>Object.defineProperty(r,"name",{value:e}),zr=(e,r,t)=>{if(e[r].overloadTable===void 0){var n=e[r];e[r]=function(...i){return e[r].overloadTable.hasOwnProperty(i.length)||d(`Function '${t}' called with an invalid number of arguments (${i.length}) - expects one of (${e[r].overloadTable})!`),e[r].overloadTable[i.length].apply(this,i)},e[r].overloadTable=[],e[r].overloadTable[n.argCount]=n}},fr=(e,r,t)=>{o.hasOwnProperty(e)?((t===void 0||o[e].overloadTable!==void 0&&o[e].overloadTable[t]!==void 0)&&d(`Cannot register public name '${e}' twice`),zr(o,e,e),o[e].overloadTable.hasOwnProperty(t)&&d(`Cannot register multiple overloads of a function with the same number of arguments (${t})!`),o[e].overloadTable[t]=r):(o[e]=r,o[e].argCount=t)},He=48,Be=57,Me=e=>{e=e.replace(/[^a-zA-Z0-9_]/g,"$");var r=e.charCodeAt(0);return r>=He&&r<=Be?`_${e}`:e};function Ve(e,r,t,n,i,s,u,a){this.name=e,this.constructor=r,this.instancePrototype=t,this.rawDestructor=n,this.baseClass=i,this.getActualType=s,this.upcast=u,this.downcast=a,this.pureVirtualFunctions=[]}var rr=(e,r,t)=>{for(;r!==t;)r.upcast||d(`Expected null or instance of ${t.name}, got an instance of ${r.name}`),e=r.upcast(e),r=r.baseClass;return e};function ze(e,r){if(r===null)return this.isReference&&d(`null is not a valid ${this.name}`),0;r.$$||d(`Cannot pass "${K(r)}" as a ${this.name}`),r.$$.ptr||d(`Cannot pass deleted object as a pointer of type ${this.name}`);var t=r.$$.ptrType.registeredClass,n=rr(r.$$.ptr,t,this.registeredClass);return n}function Le(e,r){var t;if(r===null)return this.isReference&&d(`null is not a valid ${this.name}`),this.isSmartPointer?(t=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,t),t):0;(!r||!r.$$)&&d(`Cannot pass "${K(r)}" as a ${this.name}`),r.$$.ptr||d(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&r.$$.ptrType.isConst&&d(`Cannot convert argument of type ${r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name} to parameter type ${this.name}`);var n=r.$$.ptrType.registeredClass;if(t=rr(r.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(r.$$.smartPtr===void 0&&d("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:r.$$.smartPtrType===this?t=r.$$.smartPtr:d(`Cannot convert argument of type ${r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:t=r.$$.smartPtr;break;case 2:if(r.$$.smartPtrType===this)t=r.$$.smartPtr;else{var i=r.clone();t=this.rawShare(t,dr.toHandle(()=>i.delete())),e!==null&&e.push(this.rawDestructor,t)}break;default:d("Unsupporting sharing policy")}return t}function xe(e,r){if(r===null)return this.isReference&&d(`null is not a valid ${this.name}`),0;r.$$||d(`Cannot pass "${K(r)}" as a ${this.name}`),r.$$.ptr||d(`Cannot pass deleted object as a pointer of type ${this.name}`),r.$$.ptrType.isConst&&d(`Cannot convert argument of type ${r.$$.ptrType.name} to parameter type ${this.name}`);var t=r.$$.ptrType.registeredClass,n=rr(r.$$.ptr,t,this.registeredClass);return n}function er(e){return this.fromWireType(h[e>>2])}var Ze=()=>{Object.assign(tr.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){var r;(r=this.rawDestructor)==null||r.call(this,e)},argPackAdvance:T,readValueFromPointer:er,fromWireType:je})};function tr(e,r,t,n,i,s,u,a,f,l,c){this.name=e,this.registeredClass=r,this.isReference=t,this.isConst=n,this.isSmartPointer=i,this.pointeeType=s,this.sharingPolicy=u,this.rawGetPointee=a,this.rawConstructor=f,this.rawShare=l,this.rawDestructor=c,!i&&r.baseClass===void 0?n?(this.toWireType=ze,this.destructorFunction=null):(this.toWireType=xe,this.destructorFunction=null):this.toWireType=Le}var Lr=(e,r,t)=>{o.hasOwnProperty(e)||X("Replacing nonexistent public symbol"),o[e].overloadTable!==void 0&&t!==void 0?o[e].overloadTable[t]=r:(o[e]=r,o[e].argCount=t)},nr=[],xr,Ge=e=>{var r=nr[e];return r||(e>=nr.length&&(nr.length=e+1),nr[e]=r=xr.get(e)),r},A=(e,r)=>{e=y(e);function t(){return Ge(r)}var n=t();return typeof n!="function"&&d(`unknown function pointer with signature ${e}: ${r}`),n},qe=(e,r)=>{var t=x(r,function(n){this.name=r,this.message=n;var i=new Error(n).stack;i!==void 0&&(this.stack=this.toString()+`
`+i.replace(/^Error(:[^\n]*)?\n/,""))});return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},t},Zr,Gr=e=>{var r=Nr(e),t=y(r);return F(r),t},B=(e,r)=>{var t=[],n={};function i(s){if(!n[s]&&!S[s]){if(Q[s]){Q[s].forEach(i);return}t.push(s),n[s]=!0}}throw r.forEach(i),new Zr(`${e}: `+t.map(Gr).join([", "]))},Je=(e,r,t,n,i,s,u,a,f,l,c,v,p)=>{c=y(c),s=A(i,s),a&&(a=A(u,a)),l&&(l=A(f,l)),p=A(v,p);var $=Me(c);fr($,function(){B(`Cannot construct ${c} due to unbound types`,[n])}),k([e,r,t],n?[n]:[],g=>{var ae;g=g[0];var w,U;n?(w=g.registeredClass,U=w.instancePrototype):U=N.prototype;var m=x(c,function(...hr){if(Object.getPrototypeOf(this)!==Z)throw new H("Use 'new' to construct "+c);if(P.constructor_body===void 0)throw new H(c+" has no accessible constructor");var se=P.constructor_body[hr.length];if(se===void 0)throw new H(`Tried to invoke ctor of ${c} with invalid number of parameters (${hr.length}) - expected (${Object.keys(P.constructor_body).toString()}) parameters instead!`);return se.apply(this,hr)}),Z=Object.create(U,{constructor:{value:m}});m.prototype=Z;var P=new Ve(c,m,Z,p,w,s,a,l);P.baseClass&&((ae=P.baseClass).__derivedClasses??(ae.__derivedClasses=[]),P.baseClass.__derivedClasses.push(P));var Bt=new tr(c,P,!0,!1,!1),ne=new tr(c+"*",P,!1,!1,!1),ie=new tr(c+" const*",P,!1,!0,!1);return Vr[e]={pointerType:ne,constPointerType:ie},Lr($,m),[Bt,ne,ie]})},lr=(e,r)=>{for(var t=[],n=0;n<e;n++)t.push(h[r+n*4>>2]);return t},qr=e=>{for(;e.length;){var r=e.pop(),t=e.pop();t(r)}};function Jr(e){for(var r=1;r<e.length;++r)if(e[r]!==null&&e[r].destructorFunction===void 0)return!0;return!1}function Ke(e,r){if(!(e instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof e} which is not a function`);var t=x(e.name||"unknownFunctionName",function(){});t.prototype=e.prototype;var n=new t,i=e.apply(n,r);return i instanceof Object?i:n}function Qe(e,r,t,n){var i=Jr(e),s=e.length-2,u=[],a=["fn"];r&&a.push("thisWired");for(var f=0;f<s;++f)u.push(`arg${f}`),a.push(`arg${f}Wired`);u=u.join(","),a=a.join(",");var l=`return function (${u}) {
`;i&&(l+=`var destructors = [];
`);var c=i?"destructors":"null",v=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];r&&(l+=`var thisWired = classParam['toWireType'](${c}, this);
`);for(var f=0;f<s;++f)l+=`var arg${f}Wired = argType${f}['toWireType'](${c}, arg${f});
`,v.push(`argType${f}`);if(l+=(t||n?"var rv = ":"")+`invoker(${a});
`,i)l+=`runDestructors(destructors);
`;else for(var f=r?1:2;f<e.length;++f){var p=f===1?"thisWired":"arg"+(f-2)+"Wired";e[f].destructorFunction!==null&&(l+=`${p}_dtor(${p});
`,v.push(`${p}_dtor`))}return t&&(l+=`var ret = retType['fromWireType'](rv);
return ret;
`),l+=`}
`,[v,l]}function cr(e,r,t,n,i,s){var u=r.length;u<2&&d("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=r[1]!==null&&t!==null,f=Jr(r),l=r[0].name!=="void",c=[e,d,n,i,qr,r[0],r[1]],v=0;v<u-2;++v)c.push(r[v+2]);if(!f)for(var v=a?1:2;v<r.length;++v)r[v].destructorFunction!==null&&c.push(r[v].destructorFunction);let[p,$]=Qe(r,a,l,s);p.push($);var g=Ke(Function,p)(...c);return x(e,g)}var Xe=(e,r,t,n,i,s)=>{var u=lr(r,t);i=A(n,i),k([],[e],a=>{a=a[0];var f=`constructor ${a.name}`;if(a.registeredClass.constructor_body===void 0&&(a.registeredClass.constructor_body=[]),a.registeredClass.constructor_body[r-1]!==void 0)throw new H(`Cannot register multiple constructors with identical number of parameters (${r-1}) for class '${a.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return a.registeredClass.constructor_body[r-1]=()=>{B(`Cannot construct ${a.name} due to unbound types`,u)},k([],u,l=>(l.splice(1,0,null),a.registeredClass.constructor_body[r-1]=cr(f,l,null,i,s),[])),[]})},Kr=e=>{e=e.trim();const r=e.indexOf("(");return r!==-1?e.substr(0,r):e},Ye=(e,r,t,n,i,s,u,a,f,l)=>{var c=lr(t,n);r=y(r),r=Kr(r),s=A(i,s),k([],[e],v=>{v=v[0];var p=`${v.name}.${r}`;r.startsWith("@@")&&(r=Symbol[r.substring(2)]),a&&v.registeredClass.pureVirtualFunctions.push(r);function $(){B(`Cannot call ${p} due to unbound types`,c)}var g=v.registeredClass.instancePrototype,w=g[r];return w===void 0||w.overloadTable===void 0&&w.className!==v.name&&w.argCount===t-2?($.argCount=t-2,$.className=v.name,g[r]=$):(zr(g,r,p),g[r].overloadTable[t-2]=$),k([],c,U=>{var m=cr(p,U,v,s,u,f);return g[r].overloadTable===void 0?(m.argCount=t-2,g[r]=m):g[r].overloadTable[t-2]=m,[]}),[]})},Qr=(e,r,t)=>(e instanceof Object||d(`${t} with invalid "this": ${e}`),e instanceof r.registeredClass.constructor||d(`${t} incompatible with "this" of type ${e.constructor.name}`),e.$$.ptr||d(`cannot call emscripten binding method ${t} on deleted object`),rr(e.$$.ptr,e.$$.ptrType.registeredClass,r.registeredClass)),Ne=(e,r,t,n,i,s,u,a,f,l)=>{r=y(r),i=A(n,i),k([],[e],c=>{c=c[0];var v=`${c.name}.${r}`,p={get(){B(`Cannot access ${v} due to unbound types`,[t,u])},enumerable:!0,configurable:!0};return f?p.set=()=>B(`Cannot access ${v} due to unbound types`,[t,u]):p.set=$=>d(v+" is a read-only property"),Object.defineProperty(c.registeredClass.instancePrototype,r,p),k([],f?[t,u]:[t],$=>{var g=$[0],w={get(){var m=Qr(this,c,v+" getter");return g.fromWireType(i(s,m))},enumerable:!0};if(f){f=A(a,f);var U=$[1];w.set=function(m){var Z=Qr(this,c,v+" setter"),P=[];f(l,Z,U.toWireType(P,m)),qr(P)}}return Object.defineProperty(c.registeredClass.instancePrototype,r,w),[]}),[]})},vr=[],R=[],rt=e=>{e>9&&--R[e+1]===0&&(R[e]=void 0,vr.push(e))},et=()=>R.length/2-5-vr.length,tt=()=>{R.push(0,1,void 0,1,null,1,!0,1,!1,1),o.count_emval_handles=et},dr={toValue:e=>(e||d("Cannot use deleted val. handle = "+e),R[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const r=vr.pop()||R.length;return R[r]=e,R[r+1]=1,r}}}},nt={name:"emscripten::val",fromWireType:e=>{var r=dr.toValue(e);return rt(e),r},toWireType:(e,r)=>dr.toHandle(r),argPackAdvance:T,readValueFromPointer:er,destructorFunction:null},it=e=>_(e,nt),at=(e,r,t)=>{switch(r){case 1:return t?function(n){return this.fromWireType(E[n])}:function(n){return this.fromWireType(b[n])};case 2:return t?function(n){return this.fromWireType(O[n>>1])}:function(n){return this.fromWireType(V[n>>1])};case 4:return t?function(n){return this.fromWireType(j[n>>2])}:function(n){return this.fromWireType(h[n>>2])};default:throw new TypeError(`invalid integer width (${r}): ${e}`)}},st=(e,r,t,n)=>{r=y(r);function i(){}i.values={},_(e,{name:r,constructor:i,fromWireType:function(s){return this.constructor.values[s]},toWireType:(s,u)=>u.value,argPackAdvance:T,readValueFromPointer:at(r,t,n),destructorFunction:null}),fr(r,i)},ot=(e,r)=>{var t=S[e];return t===void 0&&d(`${r} has unknown type ${Gr(e)}`),t},ut=(e,r,t)=>{var n=ot(e,"enum");r=y(r);var i=n.constructor,s=Object.create(n.constructor.prototype,{value:{value:t},constructor:{value:x(`${n.name}_${r}`,function(){})}});i.values[t]=s,i[r]=s},ft=(e,r)=>{switch(r){case 4:return function(t){return this.fromWireType(_r[t>>2])};case 8:return function(t){return this.fromWireType(Cr[t>>3])};default:throw new TypeError(`invalid float width (${r}): ${e}`)}},lt=(e,r,t)=>{r=y(r),_(e,{name:r,fromWireType:n=>n,toWireType:(n,i)=>i,argPackAdvance:T,readValueFromPointer:ft(r,t),destructorFunction:null})},ct=(e,r,t,n,i,s,u,a)=>{var f=lr(r,t);e=y(e),e=Kr(e),i=A(n,i),fr(e,function(){B(`Cannot call ${e} due to unbound types`,f)},r-1),k([],f,l=>{var c=[l[0],null].concat(l.slice(1));return Lr(e,cr(e,c,null,i,s,u),r-1),[]})},vt=(e,r,t,n,i)=>{r=y(r);var s=c=>c;if(n===0){var u=32-8*t;s=c=>c<<u>>>u}var a=r.includes("unsigned"),f=(c,v)=>{},l;a?l=function(c,v){return f(v,this.name),v>>>0}:l=function(c,v){return f(v,this.name),v},_(e,{name:r,fromWireType:s,toWireType:l,argPackAdvance:T,readValueFromPointer:Ir(r,t,n!==0),destructorFunction:null})},dt=(e,r,t)=>{var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array],i=n[r];function s(u){var a=h[u>>2],f=h[u+4>>2];return new i(E.buffer,f,a)}t=y(t),_(e,{name:t,fromWireType:s,argPackAdvance:T,readValueFromPointer:s},{ignoreDuplicateRegistrations:!0})},pt=(e,r,t,n)=>{if(!(n>0))return 0;for(var i=t,s=t+n-1,u=0;u<e.length;++u){var a=e.charCodeAt(u);if(a>=55296&&a<=57343){var f=e.charCodeAt(++u);a=65536+((a&1023)<<10)|f&1023}if(a<=127){if(t>=s)break;r[t++]=a}else if(a<=2047){if(t+1>=s)break;r[t++]=192|a>>6,r[t++]=128|a&63}else if(a<=65535){if(t+2>=s)break;r[t++]=224|a>>12,r[t++]=128|a>>6&63,r[t++]=128|a&63}else{if(t+3>=s)break;r[t++]=240|a>>18,r[t++]=128|a>>12&63,r[t++]=128|a>>6&63,r[t++]=128|a&63}}return r[t]=0,t-i},ht=(e,r,t)=>pt(e,b,r,t),gt=e=>{for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n<=127?r++:n<=2047?r+=2:n>=55296&&n<=57343?(r+=4,++t):r+=3}return r},Xr=typeof TextDecoder<"u"?new TextDecoder:void 0,yt=(e,r=0,t=NaN)=>{for(var n=r+t,i=r;e[i]&&!(i>=n);)++i;if(i-r>16&&e.buffer&&Xr)return Xr.decode(e.subarray(r,i));for(var s="";r<i;){var u=e[r++];if(!(u&128)){s+=String.fromCharCode(u);continue}var a=e[r++]&63;if((u&224)==192){s+=String.fromCharCode((u&31)<<6|a);continue}var f=e[r++]&63;if((u&240)==224?u=(u&15)<<12|a<<6|f:u=(u&7)<<18|a<<12|f<<6|e[r++]&63,u<65536)s+=String.fromCharCode(u);else{var l=u-65536;s+=String.fromCharCode(55296|l>>10,56320|l&1023)}}return s},$t=(e,r)=>e?yt(b,e,r):"",bt=(e,r)=>{r=y(r);var t=r==="std::string";_(e,{name:r,fromWireType(n){var i=h[n>>2],s=n+4,u;if(t)for(var a=s,f=0;f<=i;++f){var l=s+f;if(f==i||b[l]==0){var c=l-a,v=$t(a,c);u===void 0?u=v:(u+="\0",u+=v),a=l+1}}else{for(var p=new Array(i),f=0;f<i;++f)p[f]=String.fromCharCode(b[s+f]);u=p.join("")}return F(n),u},toWireType(n,i){i instanceof ArrayBuffer&&(i=new Uint8Array(i));var s,u=typeof i=="string";u||i instanceof Uint8Array||i instanceof Uint8ClampedArray||i instanceof Int8Array||d("Cannot pass non-string to std::string"),t&&u?s=gt(i):s=i.length;var a=pr(4+s+1),f=a+4;if(h[a>>2]=s,t&&u)ht(i,f,s+1);else if(u)for(var l=0;l<s;++l){var c=i.charCodeAt(l);c>255&&(F(f),d("String has UTF-16 code units that do not fit in 8 bits")),b[f+l]=c}else for(var l=0;l<s;++l)b[f+l]=i[l];return n!==null&&n.push(F,a),a},argPackAdvance:T,readValueFromPointer:er,destructorFunction(n){F(n)}})},Yr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Pt=(e,r)=>{for(var t=e,n=t>>1,i=n+r/2;!(n>=i)&&V[n];)++n;if(t=n<<1,t-e>32&&Yr)return Yr.decode(b.subarray(e,t));for(var s="",u=0;!(u>=r/2);++u){var a=O[e+u*2>>1];if(a==0)break;s+=String.fromCharCode(a)}return s},mt=(e,r,t)=>{if(t??(t=2147483647),t<2)return 0;t-=2;for(var n=r,i=t<e.length*2?t/2:e.length,s=0;s<i;++s){var u=e.charCodeAt(s);O[r>>1]=u,r+=2}return O[r>>1]=0,r-n},_t=e=>e.length*2,wt=(e,r)=>{for(var t=0,n="";!(t>=r/4);){var i=j[e+t*4>>2];if(i==0)break;if(++t,i>=65536){var s=i-65536;n+=String.fromCharCode(55296|s>>10,56320|s&1023)}else n+=String.fromCharCode(i)}return n},Tt=(e,r,t)=>{if(t??(t=2147483647),t<4)return 0;for(var n=r,i=n+t-4,s=0;s<e.length;++s){var u=e.charCodeAt(s);if(u>=55296&&u<=57343){var a=e.charCodeAt(++s);u=65536+((u&1023)<<10)|a&1023}if(j[r>>2]=u,r+=4,r+4>i)break}return j[r>>2]=0,r-n},Ct=e=>{for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n>=55296&&n<=57343&&++t,r+=4}return r},At=(e,r,t)=>{t=y(t);var n,i,s,u;r===2?(n=Pt,i=mt,u=_t,s=a=>V[a>>1]):r===4&&(n=wt,i=Tt,u=Ct,s=a=>h[a>>2]),_(e,{name:t,fromWireType:a=>{for(var f=h[a>>2],l,c=a+4,v=0;v<=f;++v){var p=a+4+v*r;if(v==f||s(p)==0){var $=p-c,g=n(c,$);l===void 0?l=g:(l+="\0",l+=g),c=p+r}}return F(a),l},toWireType:(a,f)=>{typeof f!="string"&&d(`Cannot pass non-string to C++ string type ${t}`);var l=u(f),c=pr(4+l+r);return h[c>>2]=l/r,i(f,c+4,l+r),a!==null&&a.push(F,c),c},argPackAdvance:T,readValueFromPointer:er,destructorFunction(a){F(a)}})},Ft=(e,r)=>{r=y(r),_(e,{isVoid:!0,name:r,argPackAdvance:0,fromWireType:()=>{},toWireType:(t,n)=>{}})},Et=()=>2147483648,kt=(e,r)=>Math.ceil(e/r)*r,Rt=e=>{var r=J.buffer,t=(e-r.byteLength+65535)/65536|0;try{return J.grow(t),Ar(),1}catch{}},Dt=e=>{var r=b.length;e>>>=0;var t=Et();if(e>t)return!1;for(var n=1;n<=4;n*=2){var i=r*(1+.2/n);i=Math.min(i,e+100663296);var s=Math.min(t,kt(Math.max(e,i),65536)),u=Rt(s);if(u)return!0}return!1};Fe(),H=o.BindingError=class extends Error{constructor(r){super(r),this.name="BindingError"}},jr=o.InternalError=class extends Error{constructor(r){super(r),this.name="InternalError"}},Ie(),Ze(),Zr=o.UnboundTypeError=qe(Error,"UnboundTypeError"),tt();var Wt={i:Ce,q:Ae,n:ke,o:Re,g:Je,f:Xe,a:Ye,e:Ne,s:it,j:st,c:ut,m:lt,b:ct,h:vt,d:dt,l:bt,k:At,p:Ft,r:Dt},D=we(),Nr=e=>(Nr=D.v)(e),pr=e=>(pr=D.x)(e),F=e=>(F=D.y)(e),ir;z=function e(){ir||re(),ir||(z=e)};function re(){if(W>0||(le(),W>0))return;function e(){var r;ir||(ir=!0,o.calledRun=!0,!mr&&(ce(),$r(o),(r=o.onRuntimeInitialized)==null||r.call(o),ve()))}o.setStatus?(o.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>o.setStatus(""),1),e()},1)):e()}if(o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();re();function St(e){if(e.length%2!=0)throw"MakePath64: intArray.length must be even";var r=e.map(function(n){return typeof n!="bigint"?BigInt(n):n});let t=new o.Path64;for(let n=0;n<r.length;n+=2){let i=new o.Point64(r[n],r[n+1],BigInt(0));t.push_back(i)}return t}o.MakePath64=St;function Ut(e){if(e.length%3!=0)throw"MakePathZ64: intArray.length must be multiple of 3";var r=e.map(function(n){return typeof n!="bigint"?BigInt(n):n});let t=new o.Path64;for(let n=0;n<r.length;n+=3){let i=new o.Point64(r[n],r[n+1],r[n+2]);t.push_back(i)}return t}o.MakePathZ64=Ut;function Ot(e){if(e.length%2!=0)throw"MakePathD: intArray.length must be even";let r=new o.PathD;for(let t=0;t<e.length;t+=2){let n=new o.PointD(e[t],e[t+1],0);r.push_back(n)}return r}o.MakePathD=Ot;function jt(e){if(e.length%3!=0)throw"MakePathZD: intArray.length must be multiple of 3";let r=new o.PathD;for(let t=0;t<e.length;t+=3){let n=new o.PointD(e[t],e[t+1],e[t+2]);r.push_back(n)}return r}o.MakePathZD=jt;function ee(e){let r=new o.Path64;for(let t=0;t<e.size();t++){const n=e.get(t),i=typeof n.x!="bigint"?BigInt(Math.round(n.x)):n.x,s=typeof n.y!="bigint"?BigInt(Math.round(n.y)):n.y,u=typeof n.z!="bigint"?BigInt(Math.round(n.z)):n.z;let a=new o.Point64(i,s,u);r.push_back(a)}return r}o.PathDToPath64=ee;function te(e){let r=new o.PathD;for(let t=0;t<e.size();t++){const n=e.get(t);let i=new o.PointD(Number(n.x),Number(n.y),Number(n.z));r.push_back(i)}return r}o.Path64ToPathD=te;function It(e){let r=new o.PathsD;for(let t=0;t<e.size();t++){const n=e.get(t);let i=te(n);r.push_back(i)}return r}o.Paths64ToPathsD=It;function Ht(e){let r=new o.Paths64;for(let t=0;t<e.size();t++){const n=e.get(t);let i=ee(n);r.push_back(i)}return r}return o.PathsDToPaths64=Ht,yr=ue,yr}})();export{Mt as default};
