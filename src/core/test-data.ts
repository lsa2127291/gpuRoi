import type { MeshData } from '@/types'

/**
 * 测试用立方体：边长 100mm，中心在原点
 * 顶点范围 [-50, 50]
 *
 * 顶点编号:
 *   0: (-50, -50, -50)  4: (-50, -50,  50)
 *   1: ( 50, -50, -50)  5: ( 50, -50,  50)
 *   2: ( 50,  50, -50)  6: ( 50,  50,  50)
 *   3: (-50,  50, -50)  7: (-50,  50,  50)
 */
export function createTestCube(): MeshData {
  const vertices = new Float32Array([
    // 0-3: bottom face (z = -50)
    -50, -50, -50,
     50, -50, -50,
     50,  50, -50,
    -50,  50, -50,
    // 4-7: top face (z = 50)
    -50, -50,  50,
     50, -50,  50,
     50,  50,  50,
    -50,  50,  50,
  ])

  // 12 triangles (2 per face × 6 faces)
  const indices = new Uint32Array([
    // bottom (z = -50)
    0, 2, 1,
    0, 3, 2,
    // top (z = 50)
    4, 5, 6,
    4, 6, 7,
    // front (y = -50)
    0, 1, 5,
    0, 5, 4,
    // back (y = 50)
    2, 3, 7,
    2, 7, 6,
    // left (x = -50)
    0, 4, 7,
    0, 7, 3,
    // right (x = 50)
    1, 2, 6,
    1, 6, 5,
  ])

  const normals = new Float32Array([
    // 简化：每个顶点法线指向外侧对角方向（归一化）
    -0.577, -0.577, -0.577,
     0.577, -0.577, -0.577,
     0.577,  0.577, -0.577,
    -0.577,  0.577, -0.577,
    -0.577, -0.577,  0.577,
     0.577, -0.577,  0.577,
     0.577,  0.577,  0.577,
    -0.577,  0.577,  0.577,
  ])

  return { vertices, indices, normals }
}
